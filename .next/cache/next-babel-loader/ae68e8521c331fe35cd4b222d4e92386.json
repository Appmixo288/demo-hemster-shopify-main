{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useState } from \"react\";\nimport { AppProvider, Frame, Tabs } from '@shopify/polaris';\nimport * as authService from \"../services/authService\";\nimport en from '@shopify/polaris/locales/en.json';\nimport Products from '../Component/Products/ProductIndex';\nimport Settings from '../Component/Settings';\nimport Support from '../Component/Support';\nimport '@shopify/polaris/dist/styles.css';\nimport { Spinner } from '@shopify/polaris';\n\nfunction MainPage() {\n  var _useState = useState(0),\n      selected = _useState[0],\n      setSelected = _useState[1];\n\n  var _useState2 = useState(true),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      isErr = _useState3[0],\n      setIsErr = _useState3[1];\n\n  useEffect(function () {\n    if (window.location.hostname !== \"localhost\") {\n      authService.getAppCharge().then(function (res) {\n        if (res.data && res.data.confirmationUrl) {\n          window.top.location.href = res.data.confirmationUrl;\n        } else if (res.data.app_charge) {\n          setIsLoading(false);\n        }\n      })[\"catch\"](function (err) {\n        setIsLoading(false);\n        setIsErr(true);\n        console.log(\"ERROR: \", err);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  }, []);\n  var tabs = [{\n    id: 'products',\n    content: 'Products'\n  }, {\n    id: 'settings',\n    content: 'Settings'\n  }, {\n    id: 'support',\n    content: 'Support'\n  }];\n  console.log(\"isErr\", isErr);\n  return /*#__PURE__*/_jsx(AppProvider, {\n    i18n: en,\n    children: /*#__PURE__*/_jsx(Frame, {\n      children: isLoading ? /*#__PURE__*/_jsx(\"div\", {\n        className: \"spinner\",\n        children: /*#__PURE__*/_jsx(Spinner, {})\n      }) : !isErr ? /*#__PURE__*/_jsx(_Fragment, {\n        children: /*#__PURE__*/_jsxs(Tabs, {\n          tabs: tabs,\n          selected: selected,\n          onSelect: setSelected,\n          children: [selected === 0 && /*#__PURE__*/_jsx(Products, {}), selected === 1 && /*#__PURE__*/_jsx(Settings, {}), selected === 2 && /*#__PURE__*/_jsx(Support, {})]\n        })\n      }) : /*#__PURE__*/_jsx(\"div\", {\n        className: \"spinner\",\n        children: \"Something went wrong with billing! please try again.\"\n      })\n    })\n  });\n}\n\nexport default MainPage;","map":null,"metadata":{},"sourceType":"module"}